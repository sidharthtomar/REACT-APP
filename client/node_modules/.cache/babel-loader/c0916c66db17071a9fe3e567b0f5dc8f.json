{"ast":null,"code":"import axios from \"axios\";\nimport { GET_POSTS, POST_ERROR, ADD_POST, GET_POST, ADD_COMMENT } from './types'; //get Posts\n\nexport const getPosts = () => async dispatch => {\n  try {\n    const res = await axios.get('api/posts');\n    dispatch({\n      type: GET_POSTS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //Add Posts\n\nexport const addPost = formData => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  try {\n    const res = await axios.post('api/posts', formData, config);\n    dispatch({\n      type: ADD_POST,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //Get one post\n\nexport const getPost = id => async dispatch => {\n  console.log('id 2', id);\n\n  try {\n    const res = await axios.get(`/api/posts/${id}`);\n    dispatch({\n      type: GET_POST,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //ADD comment\n\nexport const addComment = (post_id, formData) => async dispatch => {\n  console.log(post_id);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  try {\n    const res = await axios.post(`/api/posts/comment/${post_id}`, formData, config);\n    dispatch({\n      type: ADD_COMMENT,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};","map":{"version":3,"names":["axios","GET_POSTS","POST_ERROR","ADD_POST","GET_POST","ADD_COMMENT","getPosts","dispatch","res","get","type","payload","data","err","msg","response","statusText","status","addPost","formData","config","headers","post","getPost","id","console","log","addComment","post_id"],"sources":["C:/Users/tomar/OneDrive/Desktop/SequelizeDemo/client/src/actions/post.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n\r\n\r\nimport{\r\n    GET_POSTS,\r\n    POST_ERROR,\r\n    ADD_POST,\r\n    GET_POST,\r\n    ADD_COMMENT\r\n} from './types';\r\n\r\n//get Posts\r\n\r\n\r\nexport const getPosts = () => async dispatch =>{\r\n    try{\r\n        const res = await axios.get('api/posts');\r\n\r\n        dispatch({\r\n            type:GET_POSTS,\r\n            payload :res.data\r\n        });\r\n        \r\n    }catch(err){\r\n        dispatch({\r\n            type:POST_ERROR,\r\n            payload :{msg:err.response.statusText,status:err.response.status}\r\n        })\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n//Add Posts\r\nexport const addPost = (formData) => async (dispatch) => {\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t}\r\n\t};\r\n\r\n\ttry {\r\n\t\tconst res = await axios.post('api/posts', formData, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ADD_POST,\r\n\t\t\tpayload: res.data\r\n\t\t});\r\n\r\n\t\t\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: POST_ERROR,\r\n\t\t\tpayload: { msg: err.response.statusText, status: err.response.status }\r\n\t\t});\r\n\t}\r\n};\r\n\r\n//Get one post\r\n\r\nexport const getPost = id => async dispatch =>{\r\n    console.log('id 2',id)\r\n    try{\r\n        const res = await axios.get(`/api/posts/${id}`);\r\n\r\n        dispatch({\r\n            type:GET_POST,\r\n            payload :res.data\r\n        });\r\n        \r\n    }catch(err){\r\n        dispatch({\r\n            type:POST_ERROR,\r\n            payload :{msg:err.response.statusText,status:err.response.status}\r\n        })\r\n\r\n    }\r\n}\r\n\r\n//ADD comment\r\nexport const addComment= (post_id,formData) => async (dispatch) => {\r\n    console.log(post_id)\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t}\r\n\t};\r\n\r\n\ttry {\r\n\t\tconst res = await axios.post(`/api/posts/comment/${post_id}`, formData, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ADD_COMMENT,\r\n\t\t\tpayload: res.data\r\n\t\t});\r\n\r\n\t\t\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: POST_ERROR,\r\n\t\t\tpayload: { msg: err.response.statusText, status: err.response.status }\r\n\t\t});\r\n\t}\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}